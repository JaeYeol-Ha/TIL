<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>자바스크립트 함수</title>
</head>

<body>
    <h3>자바스크립트 함수</h3>
    함수를 매개변수로 전달하고, 함수를 리턴하는 함수를 정의 가능 <br>
    var 키워드를 생략한 함수 내부에 선언된 변수는 함수호출후에 전역변수로
    Global 실행 컨텍스트에 생성됩니다. 함수외부에서 참조가 가능해집니다.<br>
    <script>
        var globalVar = 'korea'; //전역변수
        function test(name) {
            globalVar2 = name; //var 키워드를 생략한 함수 내부에 선언된 함수는 함수 호출후에 전역변수로 Global 실행 컨테스트에 생성됩니다.
            var localVar = "Hello~" + name + "!!"; //로컬변수
            return function() { //test(name)()로 호출
                return localVar;
            }
        }

        document.write("전역변수 globalVar :" + globalVar + "<br>");
        // document.write("전역변수 globalVar2 :" + globalVar2 + "<br>"); // ---error
        test('독도');
        document.write("전역변수 globalVar2 :" + globalVar2 + "<br>");
        // document.write("지역변수 localVar :" + localVar + "<br>"); // ---error
        document.write("지역변수 localVar를 클로저 함수를 통해 참조 가능" + test('제주도')() + "<br>");

        function caller(callee){ //함수를 매개변수로 선언 가능하다.
            for(var i=0; i<1; i++){
                callee();
            }
        }

        function callee(){
            alert("callee");
        }

        caller(callee);

    </script>
    #let은 블록 유효 범위를 갖는 지역변수 선언<br>
    #constr는 블록 유효 범위를 갖는 상수 선언<br>
    <script>
        let x = "outer x";
        {
            let x = "inner x";
            let y = "inner y";
            document.write("블럭 내부에서 x : " + x + "<br>");
            document.write("블럭 내부에서 y : " + y + "<br>");
        }
        document.write("블럭 외부에서 x : " + x + "<br>");
        // document.write("블럭 외부에서 y : " + y + "<br>");
    </script>
</body>
</html>